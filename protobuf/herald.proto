syntax = "proto3";
package data;

import "google/protobuf/timestamp.proto";

/*
    Comments are used to record a message history
*/
message Comment {
    google.protobuf.Timestamp timestamp = 1;
    string text = 2;
}

/*
    Tags are used to indicate what processes to run on a sample
*/
message Tags {
    bool sequence = 1;
    bool basecall = 2;
    bool rampart = 3;
    bool pipeline1 = 4;
}

/*
    Status is used to determine if the sample is untagged, tagged or in the announcment queue
*/
enum Status {
    UN_INITIALIZED = 0;
    untagged = 1;
    tagged = 2;
    announced = 3;
}

/*
    Experiment is used to describe a Nanopore sequencing run
*/
message Experiment {
    google.protobuf.Timestamp created = 1;
    string name = 2;
    repeated Comment history = 3;
    string output_directory = 4;
    string fast5_output_directory = 5;
    string fastq_output_directory = 6;
    Tags tags = 7;
}

/*
    Sample is used to describe a biological sample which is being sequenced as part of an Experiment
*/
message Sample {
    google.protobuf.Timestamp created = 1;
    string label = 2;
    repeated Comment history = 3;
    Experiment experiment = 4;
    Status status = 5;
    int32 barcode = 6;
    Tags tags = 7;
}
